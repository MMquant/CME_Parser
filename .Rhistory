drv <- dbDriver("PostgreSQL")
?dbDriver
library(RPostgreSQL)
drv <- dbDriver("PostgreSQL")
con <- dbConnect(drv,
dbname = "cme_data",
host = "192.168.88.202",
port = 5432,
user = "r_client",
password = "cauneasi54Ahoj")
fileName <- "DBqueries/populate_data_vendor_table.sql"
query <- readChar(fileName, file.info(fileName)$size)
pwd
getwd()
cd "CME_data/"
cd "CME_data"
?cd
setwd("CME_data/")
fileName <- "DBqueries/populate_data_vendor_table.sql"
query <- readChar(fileName, file.info(fileName)$size)
dbExecute(con, query)
fileName <- "DBqueries/populate_exchange_table.sql"
query <- readChar(fileName, file.info(fileName)$size)
dbExecute(con, query)
fileName <- "DBqueries/populate_exchange_table.sql"
query <- readChar(fileName, file.info(fileName)$size)
dbExecute(con, query)
out <- readLines("symbols.txt")
out1 <- gsub("[;'{}]", "", out[out != ""], fixed = FALSE)
out2 <- strsplit(out1," = ")
l <- vector("list",length(out2)/7)
rl <- 0
for (r in seq(1, length(out2), 7)) {
cl <- 1
rl <- rl+1
for (c in seq(r, r+6, 1)) {
l[[rl]][cl] <- out2[[c]][2]
cl <- cl+1
}
}
df <- do.call(rbind.data.frame, l)
colnames(df) <- c(
"symbol",
"months",
"exchange",
"name",
"product_group",
"currency",
"born_year")
df <- data.frame(lapply(df, as.character), stringsAsFactors = FALSE)
getwd
getwd()
source("qGen.R")
source("twodigityears.R")
q <- apply(df, 1, qGen, fromYear = 1980, toYear = 2060)
library("stringr", lib.loc="/Library/Frameworks/R.framework/Versions/3.3/Resources/library")
q <- apply(df, 1, qGen, fromYear = 1980, toYear = 2060)
q1 <- unlist(q)
head(q1)
df <- do.call(rbind.data.frame, l)
colnames(df) <- c(
"symbol",
"months",
"exchange",
"name",
"product_group",
"currency",
"born_year")
df <- data.frame(lapply(df, as.character), stringsAsFactors = FALSE)
# df$born_year <- as.numeric(df$born_year)
## Generating INSERT INTO query
source("qGen.R")
source("twodigityears.R")
q <- apply(df, 1, qGen, fromYear = 1980, toYear = 2060)
q1 <- unlist(q)
debugSource('~/Documents/R/CME_data/qGen.R')
df <- do.call(rbind.data.frame, l)
colnames(df) <- c(
"symbol",
"months",
"exchange",
"name",
"product_group",
"currency",
"born_year")
df <- data.frame(lapply(df, as.character), stringsAsFactors = FALSE)
# df$born_year <- as.numeric(df$born_year)
## Generating INSERT INTO query
source("qGen.R")
source("twodigityears.R")
q <- apply(df, 1, qGen, fromYear = 1980, toYear = 2060)
q1 <- unlist(q)
q <- apply(df, 1, qGen, fromYear = 1980, toYear = 2060)
q1 <- unlist(q)
source("qGen.R")
source("twodigityears.R")
q <- apply(df, 1, qGen, fromYear = 1980, toYear = 2060)
q1 <- unlist(q)
source("qGen.R")
source("twodigityears.R")
q <- apply(df, 1, qGen, fromYear = 1980, toYear = 2060)
q1 <- unlist(q)
tail(q1)
?str_replace
?gsub
gsub([.$],q1[[length(q1)]])
gsub("[.$]",";",q1[[length(q1)]])
tail(q1)
gsub("[,$]",";",q1[[length(q1)]])
gsub("[,$]",",",q1[[length(q1)]])
gsub("[$,]",",",q1[[length(q1)]])
gsub([,$],",",q1[[length(q1)]])
gsub(",$",",",q1[[length(q1)]])
gsub(",$",";",q1[[length(q1)]])
q1
q2 <- c("INSERT INTO symbol (exchange_abbrev, instrument, name, product_group, currency,
created, modified) VALUES \n",q1)
head(q2)
tail(q2)
gsub(",$",";",q1[[length(q1)]])
tail(q2)
gsub(",$",";",q2[[length(q2)]])
tail(q2)
q2[[length(q2)]] <- gsub(",$",";",q2[[length(q2)]])
tail(q2)
?readChar
con
str(con)
q2
head(q2)
tail(q2)
dbExecute(con, q2)
?write
getwd
getwd()
write(q2,"q2Output")
write(q2,"q2Output.txt")
source("qGen.R")
source("twodigityears.R")
q <- apply(df, 1, qGen, fromYear = 1980, toYear = 2060)
q1 <- unlist(q)
q2 <- c("INSERT INTO symbol (exchange_abbrev, instrument, name, product_group, currency,
created, modified) VALUES",q1)
q2[[length(q2)]] <- gsub(",$",";",q2[[length(q2)]])
write(q2,"q2Output.txt")
source("qGen.R")
source("twodigityears.R")
q <- apply(df, 1, qGen, fromYear = 1980, toYear = 2060)
q1 <- unlist(q)
q2 <- c("INSERT INTO symbol (exchange_abbrev, instrument, name, product_group, currency,created, modified) VALUES",q1)
q2[[length(q2)]] <- gsub(",$",";",q2[[length(q2)]])
write(q2,"q2Output.txt")
q <- apply(df, 1, qGen, fromYear = 1980, toYear = 2060)
q1 <- unlist(q)
q2 <- c("INSERT INTO symbol (exchange_abbrev, instrument, name, product_group, currency,created, modified) VALUES",q1)
q2[[length(q2)]] <- gsub(",$",";",q2[[length(q2)]])
write(q2,"q2Output.txt")
source("qGen.R")
source("twodigityears.R")
q <- apply(df, 1, qGen, fromYear = 1980, toYear = 2060)
q1 <- unlist(q)
q2 <- c("INSERT INTO symbol (exchange_abbrev, instrument, name, product_group, currency,created, modified) VALUES",q1)
q2[[length(q2)]] <- gsub(",$",";",q2[[length(q2)]])
write(q2,"q2Output.txt")
dbExecute(con, q2)
write(q2,"q2Output.txt")
head(q2)
source("qGen.R")
source("twodigityears.R")
q <- apply(df, 1, qGen, fromYear = 1980, toYear = 2060)
q1 <- unlist(q)
q2 <- c("INSERT INTO symbol (exchange_abbrev, instrument, name, product_group, currency,created, modified) VALUES ",q1)
q2[[length(q2)]] <- gsub(",$",";",q2[[length(q2)]])
dbExecute(con, q2)
write(q2,"q2Output.txt")
source("qGen.R")
source("twodigityears.R")
q <- apply(df, 1, qGen, fromYear = 1980, toYear = 2060)
q1 <- unlist(q)
q2 <- c("INSERT INTO symbol (exchange_abbrev, instrument, name, product_group, currency,created, modified) VALUES\n",q1)
q2[[length(q2)]] <- gsub(",$",";",q2[[length(q2)]])
dbExecute(con, q2)
write(q2,"q2Output.txt")
q <- apply(df, 1, qGen, fromYear = 1980, toYear = 2060)
q1 <- unlist(q)
q2 <- c("INSERT INTO symbol (exchange_abbrev, instrument, name, product_group, currency,created, modified) VALUES",q1)
q2[[length(q2)]] <- gsub(",$",";",q2[[length(q2)]])
write(q2,"q2Output.txt")
dbExecute(con, q2)
?readChar
?readline
q2 <- paste("INSERT INTO symbol (exchange_abbrev, instrument, name, product_group, currency,created, modified) VALUES ",q1)
q2
q2[[length(q2)]] <- gsub(",$",";",q2[[length(q2)]])
write(q2,"q2Output.txt")
?paste
q1
q
q1
q[1]
temp <- do.call(c, unlist(q, recursive=FALSE))
q1 <- unlist(q,recursive = FALSE)
head(q1)
paste(q1)
temp <- paste(q1)
temp <- paste(q1,collapse = "")
temp
q1 <- unlist(q,recursive = FALSE)
q2 <- c("INSERT INTO symbol (exchange_abbrev, instrument, name, product_group, currency,created, modified) VALUES ",q1)
head(q2)
q3 <- paste(q2,collapse = "\n")
q3
nchar(q3)
q3[1833210]
q3[1833209]
q3[1833208]
q3[20]
q3(1)
q3{1}
q3[1]
q3[1,1]
length(q3)
q1 <- unlist(q,recursive = FALSE)
q2 <- c("INSERT INTO symbol (exchange_abbrev, instrument, name, product_group, currency,created, modified) VALUES",q1)
q3 <- paste(q2,collapse = "\n")
sub(",$",";",q3)
write(q2,"q2Output.txt")
write(q3,"q2Output.txt")
dbExecute(con, q3)
dbDisconnect(con)
### Connection
drv <- dbDriver("PostgreSQL")
# con <- dbConnect(drv) # default connection for localhost
con <- dbConnect(drv,
dbname = "cme_data",
host = "192.168.88.202",
port = 5432,
user = "r_client",
password = "cauneasi54Ahoj")
out <- readLines("symbols.txt")
out1 <- gsub("[;'{}]", "", out[out != ""], fixed = FALSE)
out2 <- strsplit(out1," = ")
l <- vector("list",length(out2)/7)
rl <- 0
for (r in seq(1, length(out2), 7)) {
cl <- 1
rl <- rl+1
for (c in seq(r, r+6, 1)) {
l[[rl]][cl] <- out2[[c]][2]
cl <- cl+1
}
}
df <- do.call(rbind.data.frame, l)
colnames(df) <- c(
"symbol",
"months",
"exchange",
"name",
"product_group",
"currency",
"born_year")
df <- data.frame(lapply(df, as.character), stringsAsFactors = FALSE)
source("qGen.R")
source("twodigityears.R")
q <- apply(df, 1, qGen, fromYear = 1980, toYear = 2060)
q1 <- unlist(q,recursive = FALSE)
q2 <- c("INSERT INTO symbol (exchange_abbrev, instrument, name, product_group, currency,created, modified) VALUES",q1)
q3 <- paste(q2,collapse = "\n")
sub(",$",";",q3)
#q2[[length(q2)]] <- gsub(",$",";",q2[[length(q2)]])
write(q3,"q2Output.txt")
dbExecute(con, q3)
sub(",$",";",q3)
write(q3,"q2Output.txt")
q1(tail)
tail(q1)
length(q1)
q <- apply(df, 1, qGen, fromYear = 1980, toYear = 2060)
q1 <- unlist(q,recursive = FALSE)
q1[[length(q1)]] <- gsub(",$",";",q1[[length(q1)]])
tail(q1)
q2 <- c("INSERT INTO symbol (exchange_abbrev, instrument, name, product_group, currency,created, modified) VALUES",q1)
q3 <- paste(q2,collapse = "\n")
write(q3,"q2Output.txt")
dbExecute(con, q3)
dbDisconnect(con)
library(R^)
library(R6)
library("R6")
install.packages(R6)
install.packages("R6")
library(R6)
source('~/Documents/R/cPerson.R')
ann <- Person$new("Ann", "black")
ann
ann$hair
class(ann)
ann$greet()
source('~/Documents/R/cPerson.R')
source('~/Documents/R/cPerson.R')
?invisible
q <- Queue$new(5, 6, "foo")
q
q$add("something")
q$add("another thing")
q$add(17)
source('~/Documents/R/cPerson.R')
source('~/Documents/R/cPerson.R')
q
q$prt()
source('~/Documents/R/cPerson.R')
q <- Queue$new(5, 6, "foo")
q
q$prt()
q$add("something")
q$add("another thing")
q$add(17)
q$prt()
q$remove()
q$prt()
q$queue
q$length()
q$add(10)$add(11)$add(12)
q$prt()
source('~/Documents/R/cPerson.R')
?missing
rnorm(1)
n <- Numbers$new()
n
n$x
n$x2
n$x2 <- 1000
n$x
n$rand
n$rand
n$rand
n$rand <- 3
source('~/Documents/R/cPerson.R')
source('~/Documents/R/cPerson.R')
s1 <- SharedField$new()
s1$e$x <- 1
s2 <- SharedField$new()
s2$e$x <- 2
source('~/Documents/R/cPerson.R')
n1 <- NonSharedField$new()
n1$e$x <- 1
n2 <- NonSharedField$new()
n2$e$x <- 2
n1$e$x
n2$e$x
source('~/Documents/R/cPerson.R')
rc <- RC$new()
rc$setx(10)
rc$getx()
np <- NP$new()
source('~/Documents/R/cPerson.R')
np <- NP$new()
np$setx(10)
np$getx()
source('~/Documents/R/cPerson.R')
source('~/Documents/R/cPerson.R')
p <- P$new()
p$setx(10)
p$getx()
source('~/Documents/R/cPerson.R')
Simple$set("public", "getx2", function() self$x*2)
Simple$set("public", "x", 10, overwrite = TRUE)
s <- Simple$new()
s$x
s$getx2()
source('~/Documents/R/cPerson.R')
Simple$set("public", "y", 2)
Simple$unlock()
Simple$set("public", "y", 2)
Simple$lock()
source('~/Documents/R/cPerson.R')
s <- Simple$new()
s1 <- s$clone()
s1$x <- 2
s1$getx()
s$getx()
source('~/Documents/R/cPerson.R')
source('~/Documents/R/cPerson.R')
c1 <- Cloneable$new()
c2 <- c1$clone()
c1$s$x <- 2
c2$s$x
c3 <- c1$clone(deep = TRUE)
source('~/Documents/R/cPerson.R')
pq <- PrettyCountingQueue$new(1, 2, "foobar")
source('~/Documents/R/cPerson.R')
pq <- PrettyCountingQueue$new(1, 2, "foobar")
pq
?gc
source('~/Documents/R/cPerson.R')
variable_names = c("x","y")
a = myClass$new(variable_names)
a$names
?case
?switch
a = myClass$new("john")
a
a = myClass$new("john",15)
source('~/Documents/R/cPerson.R')
source('~/Documents/R/cPerson.R')
a = myClass$new("john")
a
a = myClass$new("john",15)
a
a = myClass$new("john",15,"pasta")
a
source('~/Documents/R/cPerson.R')
a = myClass$new("john")
source('~/Documents/R/cPerson.R')
source('~/Documents/R/cPerson.R')
a = myClass$new("john")
source('~/Documents/R/cPerson.R')
a = myClass$new("john")
a = myClass$new("john",35)
a = myClass$new("john",35,"pasta")
